<!DOCTYPE html><html lang="es" ng-app="app"><head><meta charset="UTF-8"><meta name="viewport"><title>CNC-ino</title><script src="./../components/jquery/dist/jquery.js" onload="window.$ = window.jQuery = module.exports;" type="text/javascript"></script><script src="./../components/angular/angular.js" type="text/javascript"></script><link rel="stylesheet" href="../components/semantic/dist/semantic.css"><link rel="stylesheet" href="../css/style.css"><script src="./../components/semantic/dist/semantic.js" type="text/javascript"></script><script src="./../components/vis/dist/vis.js" type="text/javascript"></script><script src="./../js/index.js" type="text/javascript"></script></head><body><div ng-controller="main"><div class="ui segment graph" style="height: 100%; position: absolute;width: 100%; margin-bottom: 0px;&quot;"><div class="ui active inverted dimmer" id="loader" style="background-color: #F5F5F5"><div class="ui text loader">Cargando...</div></div><div id="mygraph"></div><div class="ui left internal attached rail graph" style="width: 420px"><div class="ui grid"><!-- elejir archivo--><div class="ten wide column" style="padding-right: 3px"><div class="ui segment center aligned"><div class="ui one column grid"><div class="column compact"><div class="ui icon buttons fluid"><button class="ui button" ng-disabled=" !cnc.arduino || cnc.working || cnc.file.line.total == 0 &amp;&amp; !cnc.pause.status" ng-click="start()"><i class="play icon green"></i></button><button class="ui button" ng-disabled="!cnc.working" ng-click="pausa()"><i class="pause icon blue"></i></button><button class="ui button" ng-disabled="!cnc.working &amp;&amp; !cnc.pause.status" ng-click="parar()"><i class="stop icon red"></i></button><button class="ui secondary button" ng-disabled="cnc.working" ng-click="setFile(false)">Archivo</button></div></div><div class="column compact"><div class="ui labeled input action fluid" ng-popup data-id="#popupLabelTool"><label class="ui label">Posición de la her.:</label><input ng-disabled="cnc.working" ng-model="initialLine" type="text"><button class="ui icon button" ng-disabled="cnc.working" ng-click="setFile(true)"><i class="repeat icon green"></i></button></div></div></div><div class="ui progress indicating bottom attached" ng-popup data-id="#popupBar" ng-class="progressBar" data-percent="{{cnc.file.line.progress}}"><div class="bar" style="transition-duration: 300ms; width: {{cnc.file.line.progress}}%"> <!--.progress(style="color: rgba(255, 255, 255, 1);") {{cnc.file.line.progress}}%--></div></div></div><!-- tabla--><div class="ui segment mini center aligned" ng-show="lineTableShow"><!--.ui.one.column.grid--><table class="ui table very basic compact small"><thead><tr><th>linea</th><th>X</th><th>Y</th><th>Z</th></tr></thead><tbody><tr popup-element data-ng-popup-title="{{line.code}}" ng-repeat="line in lineTable" ng-class="line.type"><td>{{line.nro}}</td><td popup-element data-ng-popup-title="Pasos: {{line.steps[0]}}">{{ line.ejes[0] | number : 2}}</td><td popup-element data-ng-popup-title="Pasos: {{line.steps[1]}}">{{ line.ejes[1] | number : 2}}</td><td popup-element data-ng-popup-title="Pasos: {{line.steps[2]}}">{{ line.ejes[2] | number : 2}}</td></tr></tbody></table></div></div><div class="six wide column" style="padding-left: 3px"><div class="ui segment center aligned" ng-click="statisticHour.click()" style="padding-bottom: 12px; padding-top: 12px; cursor: pointer"><div class="ui statistic small"><div class="label">{{statisticHour.label}}</div><div class="value">{{statisticHour.value | date:'HH:mm'}}</div></div></div></div></div></div><div class="ui right internal attached rail graph"><!-- comando manuales--><div class="ui segment center aligned"><div class="ui one column grid"><div class="column compact"><div class="ui action input fluid" ng-popup data-id="#inputComando"><input placeholder="Enviar comando." type="text" ng-model="comando" ng-value="" ng-disabled="!cnc.arduino || cnc.working "><button class="ui teal button" ng-disabled="!cnc.arduino || cnc.working || comando.length==0" type="submit" ng-click="enviarDatos(comando)">Enviar</button></div></div><div class="column compact"><div class="ui grid"><div class="ten wide column compact left"><div class="ui right labeled input fluid" ng-popup data-id="#inputStepsmm"><input ng-model="inputStepsmm" type="text"><div class="ui dropdown label"><div class="text">pasos</div><i class="dropdown icon"></i><div class="menu"><div class="item" style="padding: 0.71428571rem 0.74rem !important" ng-click="setStepsmm('steps')">pasos</div><div class="item" style="padding: 0.71428571rem 0.7rem !important" ng-click="setStepsmm('mm')">mm</div></div></div></div></div><div class="six wide column compact right"><button class="ui button primary" ng-disabled="cnc.working" ng-click="showPrefsImg2gcode()" style="margin-right: 0px; margin-right: 0px;padding-left: 10px;padding-right: 10px">img to gcode.</button></div></div></div><div class="column compact"><div class="six ui buttons compact"><button class="ui button red" popup-element data-ng-popup-title="A" ng-popup-variatio="bottom center" ng-disabled=" !cnc.arduino || cnc.working " ng-click="moverManual(inputStepsmm,&quot;X&quot;,&quot;&quot;)">X+ </button><button class="ui button" popup-element data-ng-popup-title="D" ng-popup-variatio="bottom center" ng-disabled=" !cnc.arduino || cnc.working " ng-click="moverManual(inputStepsmm,&quot;X&quot;,&quot;-&quot;)">X- </button><button class="ui button blue" popup-element data-ng-popup-title="W" ng-popup-variatio="bottom center" ng-disabled=" !cnc.arduino || cnc.working " ng-click="moverManual(inputStepsmm,&quot;Y&quot;,&quot;&quot;)">Y+ </button><button class="ui button" popup-element data-ng-popup-title="S" ng-popup-variatio="bottom center" ng-disabled=" !cnc.arduino || cnc.working " ng-click="moverManual(inputStepsmm,&quot;Y&quot;,&quot;-&quot;)">Y- </button><button class="ui button green" popup-element data-ng-popup-title="Q" ng-popup-variatio="bottom center" ng-disabled=" !cnc.arduino || cnc.working " ng-click="moverManual(inputStepsmm,&quot;Z&quot;,&quot;&quot;)">Z+ </button><button class="ui button" popup-element data-ng-popup-title="E" ng-popup-variatio="bottom center" ng-disabled=" !cnc.arduino || cnc.working " ng-click="moverManual(inputStepsmm,&quot;Z&quot;,&quot;-&quot;)">Z- </button></div></div></div></div></div></div><div class="statusbar" id="statusbar" ng-class="statusBar.type" role="contentinfo"><div class="statusbar-item left" ng-popup data-id="#statusBarMsg">{{statusBar.message}}</div><div class="statusbar-item left" ng-show="lineTable.line.length &gt; 0" ng-popup data-id="#statusBarLine">Nro: {{lineTable.line[lineTable.line.length-1].nro}}</div><div class="statusbar-item left" ng-show="lineTable.line.length &gt; 0" ng-popup data-id="#statusBarLine">Code: {{lineTable.line[lineTable.line.length-1].code}}</div><div class="statusbar-item left" ng-show="lineTable.line.length &gt; 0" ng-popup data-id="#statusBarLine">X: {{ lineTable.line[lineTable.line.length-1].ejes[0] | number : 2}}</div><div class="statusbar-item left" ng-show="lineTable.line.length &gt; 0" ng-popup data-id="#statusBarLine">Y: {{ lineTable.line[lineTable.line.length-1].ejes[1] | number : 2}}</div><div class="statusbar-item left" ng-show="lineTable.line.length &gt; 0" ng-popup data-id="#statusBarLine">Z: {{ lineTable.line[lineTable.line.length-1].ejes[2] | number : 2}}</div><div class="statusbar-item right" ng-popup data-id="#statusBarRighr">Lineas interpetadas: {{cnc.file.line.run}} de {{cnc.file.line.total}} - {{cnc.file.line.progress}}%</div></div><!--popup--><div class="ui fluid popup top hidden huge" id="popupLabelTool"><p>Posición inicial de la herramienta. {{initialLine}}</p></div><div class="ui flowing popup top hidden huge" id="popupBar"><div class="ui header"> Lineas interpetadas </div><p>{{cnc.file.line.run}} de {{cnc.file.line.total}} - {{cnc.file.line.progress}}%</p></div><div class="ui flowing popup left center hidden huge" id="inputComando"><div class="ui header">{{comando}}</div></div><div class="ui flowing popup top left transition hidden huge" id="inputStepsmm"><div class="ui header">{{inputStepsmm}}</div></div><div class="ui flowing popup top transition hidden huge" id="statusBarMsg"><div class="ui content">{{statusBar.message}}</div></div><div class="ui flowing popup top hidden huge" id="statusBarLine"><div class="ui header">Linea: {{lineTable.line[lineTable.line.length-1].nro}} - {{lineTable.line[lineTable.line.length-1].code}}</div><div class="ui content"><p>X: {{ lineTable.line[lineTable.line.length-1].ejes[0] | number : 2}} - Pasos: {{lineTable.line[lineTable.line.length-1].steps[0]}}</p><p>Y: {{ lineTable.line[lineTable.line.length-1].ejes[1] | number : 2}} - Pasos: {{lineTable.line[lineTable.line.length-1].steps[1]}}</p><p>Z: {{ lineTable.line[lineTable.line.length-1].ejes[2] | number : 2}} - Pasos: {{lineTable.line[lineTable.line.length-1].steps[2]}}</p></div></div><div class="ui flowing popup top hidden huge" id="statusBarRighr"><div class="ui header"> Lineas interpetadas </div><p>{{cnc.file.line.run}} de {{cnc.file.line.total}} - {{cnc.file.line.progress}}</p></div></div><div class="ui basic modal" id="modalProgress"><div class="ui inverted active" style="background-color: #F0F0F0"><div class="ui text loader" id="modalProgressInfo">Cargando...</div></div></div><div class="ui modal small" id="modalprefs" ng-controller="modalprefs" style="-webkit-user-select: none"><!--.header.small Header--><div class="content"><div class="ui top attached tabular menu four item"><a class="active item" data-tab="setting">Generales</a><a class="item" data-tab="motorX">Motor X</a><a class="item" data-tab="motorY">Motor Y</a><a class="item" data-tab="motorZ">Motor Z</a></div><div class="ui bottom attached active tab segment" data-tab="setting" style="margin-bottom: 0px"><div class="ui form small"><div class="two fields"><div class="field"><label>Escala: </label><input type="number" ng-model="configModal.scale"></div><div class="field"><label>Movimiento manual (Pasos):</label><input type="number" ng-model="configModal.manalSteps"></div></div><h4 class="ui dividing header" style="margin-top: 10px;margin-bottom: 10px">Medidas de la piesa.</h4><div class="two fields"><div class="field"><label>X (mm).</label><input ng-model="configModal.workpiece.x" type="number"></div><div class="field"><label>Y (mm).</label><input ng-model="configModal.workpiece.y" type="number"></div></div></div></div><div class="ui bottom attached tab segment" data-tab="motorX" style="margin-bottom: 0px"><div class="ui form small"><h4 class="ui dividing header">Milimetros por pasos.</h4><div class="two fields"><div class="field"><label>mm.</label><input ng-model="configModal.motor.x.advance" type="number"></div><div class="field"><label>Pasos.</label><input ng-model="configModal.motor.x.steps" type="number"></div></div><div class="field"><div class="ui toggle checkbox"><input checkbox type="checkbox" ng-model="configModal.motor.x.sense"><label>Sentido Invertido.</label></div></div><!--label Sacar de mm/min y el avance {{configModal.motor.x.time}}--></div></div><div class="ui bottom attached tab segment" data-tab="motorY" style="margin-bottom: 0px"><div class="ui form small"><h4 class="ui dividing header">Milimetros por pasos.</h4><div class="two fields"><div class="field"><label>mm.</label><input ng-model="configModal.motor.y.advance" type="number"></div><div class="field"><label>Pasos.</label><input ng-model="configModal.motor.y.steps" type="number"></div></div><div class="field"><div class="ui toggle checkbox"><input checkbox type="checkbox" ng-model="configModal.motor.y.sense"><label>Sentido Invertido.</label></div></div><!--label Sacar de mm/min y el avance {{configModal.motor.y.time}}--></div></div><div class="ui bottom attached tab segment" data-tab="motorZ"><div class="ui form small"><h4 class="ui dividing header">Milimetros por pasos.</h4><div class="two fields"><div class="field"><label>mm.</label><input ng-model="configModal.motor.z.advance" type="number"></div><div class="field"><label>Pasos.</label><input ng-model="configModal.motor.z.steps" type="number"></div></div><div class="field"><div class="ui toggle checkbox"><input checkbox type="checkbox" ng-model="configModal.motor.z.sense"><label>Sentido Invertido.</label></div></div></div></div></div><div class="actions"><button class="ui approve button primary" ng-click="save()">Guardar</button><button class="ui cancel button" ng-click="cancel()">Cancelar</button></div></div><div class="ui modal" id="modalConfig" ng-controller="modalImg2gcode" style="-webkit-user-select: none"><div class="header small">Configuración para procesar la imagen y comvertirla a código-G.</div><div class="image content"><div class="image"><img src="../recursos/toolConfig.png"></div><div class="description"><div class="ui form small"><h4 class="ui dividing header">Medidas en milimetros.</h4><div class="two fields"><div class="field"><label popup-element data-ng-popup-title="Distancia segura al mover la broca.">Distancia segura.</label><input ng-model="configModal.toolConfig.safeZ" type="number"></div><div class="field"><label popup-element data-ng-popup-title="Altura para el color negro.">Altura para el color negro.</label><input ng-model="configModal.toolConfig.blackZ" type="number"></div></div><div class="two fields"><div class="field"><label popup-element data-ng-popup-title="Profundidad del paso de la broca.">Profundidad del paso de la broca.</label><input ng-model="configModal.toolConfig.deepStep" type="number"></div><div class="field"><label popup-element data-ng-popup-title="Altura para el color blanco.">Altura para el color blanco.</label><input ng-model="configModal.toolConfig.whiteZ" type="number"></div></div><div class="two fields"><div class="field"><label popup-element data-ng-popup-title="Diámetro de la broca.">Diámetro de la broca.</label><input ng-model="configModal.toolConfig.toolDiameter" type="number"></div><div class="field"><label popup-element data-ng-popup-title="Altura de la imagen en milimetros.">Altura de la imagen.</label><input ng-model="configModal.toolConfig.scaleAxes" type="number"></div></div></div></div></div><div class="actions"><button class="ui approve button primary" ng-click="save()">Guardar</button><button class="ui cancel button" ng-click="cancel()">Cancelar</button></div></div><script type="text/javascript">var angular = angular.module('app',[]);
$('.menu .item').tab();
$('.ui.dropdown').dropdown();
$('.ui.sticky').sticky();
$('button').keydown(function(e){
  if(e.which === 32 || e.which === 13) {
    e.preventDefault();
    return;
  }
  console.log(e.which);
});</script><script src="./../js/angular.js" type="text/javascript"></script><script src="./../js/factory/ipc.js" type="text/javascript"></script><script src="./../js/factory/line.js" type="text/javascript"></script><script src="./../js/factory/notify.js" type="text/javascript"></script><script src="./../js/factory/modalFactory.js" type="text/javascript"></script><script src="./../js/controller/ng-main.js" type="text/javascript"></script><script src="./../js/controller/ng-prefs.js" type="text/javascript"></script><script src="./../js/controller/ng-img2gcode.js" type="text/javascript"></script></body></html>